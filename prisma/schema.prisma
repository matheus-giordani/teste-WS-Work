// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Marca {
  id         Int      @id @default(autoincrement() )  
  nome_marca String
  Modelo     Modelo[]

  @@map("marca")
}

model Modelo {
  id         Int     @id @default(autoincrement()) 
  nome       String
  marca      Marca?   @relation(fields: [marca_id], references: [id], onDelete: Cascade)
  marca_id   Int
  valor_fipe Float
  Carro      Carro[]

  @@map("modelo")
}

model Carro {
  id                 Int         @id @default(autoincrement())
  timestamp_cadastro DateTime?    @default(now())
  modelo             Modelo?      @relation(fields: [modelo_id], references: [id], onDelete: Cascade)
  modelo_id          Int
  ano                Int
  combustivel        Combustivel @default(gasolina)
  num_portas         Int
  cor                String
  @@map("carro")
}

enum Combustivel {
  gasolina
  alcool
  flex
  diesel
  eletrico
}
